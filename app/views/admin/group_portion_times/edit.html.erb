<turbo-frame id="portions-time">
                    <div class="mt-12 flex justify-between items-center px-16 ">
                        <h1 class="text-3xl font-bold text-gray-700">04. Porciones por tiempo de comida</h1>
                    </div>

                    <hr class="mx-16 mt-4">

                    <!-- Main content -->
                    <div class="grid grid-cols-1 md:grid-cols-12 mt-8 mx-16 md:gap-14">
                        <div class="col-span-12">
                            <div>
                                <h1 class="text-xl font-medium text-gray-600">Asigna porciones a cada tiempo de comida</h1>  
                            </div> 
                            <div class="mt-4 mr-2">
                                <div class="flex flex-col">
                                    <div class="-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8">
                                    <div class="py-2 align-middle inline-block min-w-full sm:px-6 lg:px-8">
                                        <div class="shadow overflow-hidden border-b border-gray-200 sm:rounded-lg">
                                        <table class="min-w-full divide-y divide-gray-200">
                                            <thead class="bg-gray-50">
                                            <tr>
                                                <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                                                Grupo
                                                </th>
                                                <th scope="col" class="pl-1 pr-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                                                Porciones
                                                </th>
                                                <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                                                Desayuno
                                                </th>
                                                <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                                                Colación
                                                </th>
                                                <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                                                Comida
                                                </th>
                                                <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                                                Colación
                                                </th>
                                                <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                                                Cena
                                                </th>
                                            </tr>
                                            </thead>
                                            <tbody class="bg-white divide-y divide-gray-200">
                                            <% @group_portion_times.attributes.except('id', 'plan_id' , 'created_at' , 'updated_at' ).each do
                                            |attribute, value| %>
                                                <% if value[:quantity] > 0 %>
                                                    <tr
                                                        data-controller="group-portion-time"
                                                        data-group-portion-time-url-value="<%= admin_patient_group_portion_time_path(patient_id: @patient.id, id: @group_portion_times.id) %>"
                                                        data-group-portion-time-key-value="<%= attribute %>"
                                                        data-group-portion-time-quantity-value="<%= value[:quantity] %>"
                                                    >
                                                        <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">
                                                        <%= t(attribute) %>
                                                        </td>
                                                        <td class="px-1 py-4 whitespace-nowrap text-sm text-gray-500">
                                                            <span 
                                                                class="inline-flex items-center px-2.5 py-0.5 rounded-md text-sm font-medium bg-red-100 text-red-800"
                                                                data-group-portion-time-target='quantity'
                                                            >
                                                                0 de <%= value[:quantity] %>
                                                            </span>
                                                        </td>
                                                        <td class="px-6 py-3 whitespace-nowrap text-md text-gray-900">
                                                            <input 
                                                                type="number" 
                                                                name="breakfast" 
                                                                id="breakfast" 
                                                                class=" py-2 px-0 focus:ring-indigo-500 focus:border-indigo-500 block w-14 pl-4 h-8 sm:text-md border border-gray-300 rounded-md" 
                                                                placeholder="0"
                                                                min="0"
                                                                step=".5"
                                                                data-group-portion-time-target='breakfast'
                                                                value="<%= value[:breakfast] %>"
                                                            >
                                                        </td>
                                                        <td class="px-6 py-3 whitespace-nowrap text-md text-gray-900">
                                                            <input 
                                                                type="number" 
                                                                name="first_collation" 
                                                                id="first_collation" 
                                                                class=" py-2 px-0 focus:ring-indigo-500 focus:border-indigo-500 block w-14 pl-4 h-8 sm:text-md border border-gray-300 rounded-md" 
                                                                placeholder="0"
                                                                min="0"
                                                                step=".5"
                                                                data-group-portion-time-target='firstCollation'
                                                                value="<%= value[:firstCollation] %>"
                                                            >
                                                        </td>
                                                        <td class="px-6 py-3 whitespace-nowrap text-md text-gray-900">
                                                            <input 
                                                                type="number" 
                                                                name="meal" 
                                                                id="meal" 
                                                                class=" py-2 px-0 focus:ring-indigo-500 focus:border-indigo-500 block w-14 pl-4 h-8 sm:text-md border border-gray-300 rounded-md" 
                                                                placeholder="0"
                                                                min="0"
                                                                step=".5"
                                                                data-group-portion-time-target='meal'
                                                                value="<%= value[:meal] %>"
                                                            >
                                                        </td>
                                                        <td class="px-6 py-3 whitespace-nowrap text-md text-gray-900">
                                                            <input 
                                                                type="number" 
                                                                name="second_collation" 
                                                                id="second_collation" 
                                                                class=" py-2 px-0 focus:ring-indigo-500 focus:border-indigo-500 block w-14 pl-4 h-8 sm:text-md border border-gray-300 rounded-md" 
                                                                placeholder="0"
                                                                min="0"
                                                                step=".5"
                                                                data-group-portion-time-target='secondCollation'
                                                                value="<%= value[:secondCollation] %>"
                                                            >
                                                        </td>
                                                        <td class="px-6 py-3 whitespace-nowrap text-md text-gray-900">
                                                            <input 
                                                                type="number" 
                                                                name="dinner" 
                                                                id="dinner" 
                                                                class=" py-2 px-0 focus:ring-indigo-500 focus:border-indigo-500 block w-14 pl-4 h-8 sm:text-md border border-gray-300 rounded-md" 
                                                                placeholder="0"
                                                                min="0"
                                                                step=".5"
                                                                data-group-portion-time-target='dinner'
                                                                value="<%= value[:dinner] %>"
                                                            >
                                                        </td>
                                                    </tr>
                                                <% end %>
                                            <% end %>
                                            </tbody>
                                        </table>
                                        </div>
                                    </div>
                                    </div>
                                </div>
  
                            </div>
                        </div> 
              </div>
</turbo-frame>